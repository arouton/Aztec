#include "azClassId.h"

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azUInt azHashFunction(azSz a_pStr)
{
    azUInt uHash = 5381;

    while (*a_pStr != 0)
    {
        azUInt uCurrentCharacter = azUInt(*a_pStr);

        // uHash * 33 + uCurrentCharacter
        uHash = ((uHash << 5) + uHash) + uCurrentCharacter; 

        a_pStr++;
    }

    return uHash;
}


//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azClassId::azClassId()
    : m_uId(0)
    , m_szName(NULL)
{}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azClassId::azClassId(azUInt a_uId)
    : m_uId(a_uId)
    , m_szName(azL(""))
{}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azClassId::azClassId(azSz a_szName)
    : m_uId(0)
    , m_szName(a_szName)
{
    m_uId = azHashFunction(a_szName);
}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azClassId::azClassId(azClassId const& a_rSource)
    : m_uId(a_rSource.m_uId)
    , m_szName(a_rSource.m_szName)
{}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
azClassId const& azClassId::operator =(azClassId const& a_rSource)
{
    m_uId = a_rSource.m_uId;
    m_szName = a_rSource.m_szName;
    return *this;
}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
bool azClassId::operator ==(azClassId const& a_rSource) const
{
    return (m_uId == a_rSource.m_uId);
}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
bool azClassId::operator !=(azClassId const& a_rSource) const
{
    return (!(*this == a_rSource));
}

//-------------------------------------------------------------------------------------------------------
//
//-------------------------------------------------------------------------------------------------------
bool azClassId::IsNullType() const
{
    return (m_uId == 0);
}

